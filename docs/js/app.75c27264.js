(function(t){function e(e){for(var o,s,a=e[0],c=e[1],l=e[2],h=0,d=[];h<a.length;h++)s=a[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),r=n.n(o);r.a},"157b":function(t,e,n){},"569b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Garden",{attrs:{start:t.start}}),n("Bulb",{on:{startAni:t.mainStartAni}}),t._m(0)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"copy-right"},[n("p",[t._v("Power by JedenZhan")]),n("p",[t._v("we together since 2020/06/27")])])}],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"electric-line",style:t.start&&"background-color: #777"}),n("div",{staticClass:"light-bulb-close",style:t.start&&"background-color: #fff",on:{click:t.startAni}},[n("div",{staticClass:"bulb",style:t.start&&"background-color: #888"})])])},s=[],a={name:"Bulb",data:function(){return{start:!1}},methods:{startAni:function(){this.start||(this.start=!0,this.$emit("startAni",this.start))}}},c=a,l=(n("d0bb"),n("2877")),u=Object(l["a"])(c,i,s,!1,null,"6eb97357",null),h=u.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"loveHeart"}},[n("canvas",{attrs:{id:"garden"}}),n("div",{staticClass:"words"},[n("div",{staticClass:"messages"},[n("div",{staticClass:"elapseClock",style:t.formatedTime&&"opacity: 1"},[n("span",{staticClass:"digit"},[t._v(t._s(t.formatedTime.day))]),t._v("Days "),n("span",{staticClass:"digit"},[t._v(t._s(t.formatedTime.hour))]),t._v("Hours "),n("span",{staticClass:"digit"},[t._v(t._s(t.formatedTime.min))]),t._v("Minutes "),n("span",{staticClass:"digit"},[t._v(t._s(t.formatedTime.second))]),t._v("Seconds ")]),n("div",{staticClass:"loveu",style:t.showLoveu&&"opacity: 1"},[t._v(" 已经在一起 ")]),n("div",{staticClass:"signature",style:t.showLoveu&&"opacity: 1"},[t._v(" - 镇🐑 ")])])])])},f=[],m=function(t){return document.getElementById(t)},p=function(t){var e=parseInt(t/864e5);t%=864e5;var n=parseInt(t/36e5);t%=36e5;var o=parseInt(t/6e4);t%=6e4;var r=parseInt(t/1e3);return{day:e,hour:n,min:o,second:r}},v=(n("a434"),n("d4ec")),b=n("bee2"),g=function(){function t(e,n){Object(v["a"])(this,t),this.x=e,this.y=n}return Object(b["a"])(t,[{key:"rotate",value:function(t){var e=this.x,n=this.y;return this.x=Math.cos(t)*e-Math.sin(t)*n,this.y=Math.sin(t)*e+Math.cos(t)*n,this}},{key:"mult",value:function(t){return this.x*=t,this.y*=t,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}}]),t}(),y=function(){function t(e,n,o,r,i,s){Object(v["a"])(this,t),this.stretchA=e,this.stretchB=n,this.startAngle=o,this.angle=r,this.bloom=s,this.growFactor=i,this.r=1,this.isfinished=!1}return Object(b["a"])(t,[{key:"draw",value:function(){var t,e,n,o,r=this.bloom.garden.ctx;t=new g(0,this.r).rotate(x.degrad(this.startAngle)),e=t.clone().rotate(x.degrad(this.angle)),n=t.clone().mult(this.stretchA),o=e.clone().mult(this.stretchB),r.strokeStyle=this.bloom.c,r.beginPath(),r.moveTo(t.x,t.y),r.bezierCurveTo(n.x,n.y,o.x,o.y,e.x,e.y),r.stroke()}},{key:"render",value:function(){this.r<=this.bloom.r?(this.r+=this.growFactor,this.draw()):this.isfinished=!0}}]),t}();function w(t,e,n,o,r){this.p=t,this.r=e,this.c=n,this.pc=o,this.petals=[],this.garden=r,this.init(),this.garden.addBloom(this)}w.prototype={draw:function(){var t,e=!0;this.garden.ctx.save(),this.garden.ctx.translate(this.p.x,this.p.y);for(var n=0;n<this.petals.length;n++)t=this.petals[n],t.render(),e*=t.isfinished;this.garden.ctx.restore(),1==e&&this.garden.removeBloom(this)},init:function(){for(var t=360/this.pc,e=x.randomInt(0,90),n=0;n<this.pc;n++)this.petals.push(new y(x.random(x.options.petalStretch.min,x.options.petalStretch.max),x.random(x.options.petalStretch.min,x.options.petalStretch.max),e+n*t,t,x.random(x.options.growFactor.min,x.options.growFactor.max),this))}};var x=function(){function t(e,n){Object(v["a"])(this,t),this.blooms=[],this.element=n,this.ctx=e}return Object(b["a"])(t,[{key:"render",value:function(){for(var t=0;t<this.blooms.length;t++)this.blooms[t].draw()}},{key:"addBloom",value:function(t){this.blooms.push(t)}},{key:"removeBloom",value:function(t){for(var e,n=0;n<this.blooms.length;n++)if(e=this.blooms[n],e===t)return this.blooms.splice(n,1),this}},{key:"createRandomBloom",value:function(e,n){this.createBloom(e,n,t.randomInt(t.options.bloomRadius.min,t.options.bloomRadius.max),t.randomrgba(t.options.color.rmin,t.options.color.rmax,t.options.color.gmin,t.options.color.gmax,t.options.color.bmin,t.options.color.bmax,t.options.color.opacity),t.randomInt(t.options.petalCount.min,t.options.petalCount.max))}},{key:"createBloom",value:function(t,e,n,o,r){new w(new g(t,e),n,o,r,this)}},{key:"clear",value:function(){this.blooms=[],this.ctx.clearRect(0,0,this.element.width,this.element.height)}}]),t}();x.options={petalCount:{min:8,max:15},petalStretch:{min:.1,max:3},growFactor:{min:.1,max:1},bloomRadius:{min:8,max:10},density:10,growSpeed:1e3/60,color:{rmin:244,rmax:255,gmin:20,gmax:164,bmin:96,bmax:147,opacity:.2},tanAngle:60},x.random=function(t,e){return Math.random()*(e-t)+t},x.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},x.circle=2*Math.PI,x.degrad=function(t){return x.circle/360*t},x.raddeg=function(t){return t/x.circle*360},x.rgba=function(t,e,n,o){return"rgba("+t+","+e+","+n+","+o+")"},x.randomrgba=function(t,e,n,o,r,i,s){var a=Math.round(x.random(t,e)),c=Math.round(x.random(n,o)),l=Math.round(x.random(r,i)),u=5;return Math.abs(a-c)<=u&&Math.abs(c-l)<=u&&Math.abs(l-a)<=u?x.rgba(t,e,n,o,r,i,s):x.rgba(a,c,l,s)};var M={name:"Garden",props:{start:Boolean},data:function(){return{offsetX:0,offsetY:0,together:0,formatedTime:!1,showLoveu:!1,garden:""}},methods:{init:function(){this.setPosition(),this.setTime(),this.setGarden(),this.startHeartAnimation()},setPosition:function(){var t=m("loveHeart");this.offsetX=t.offsetWidth/2,this.offsetY=t.offsetHeight/2-55},setTime:function(){var t=new Date;t.setFullYear(2020,5,27),t.setHours(20),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.together=t},setGarden:function(){var t=this,e=m("loveHeart"),n=m("garden"),o=n;o.width=e.offsetWidth,o.height=e.offsetHeight;var r=o.getContext("2d");r.globalCompositeOperation="lighter",this.garden=new x(r,o),setInterval((function(){t.garden.render()}),x.options.growSpeed)},getHeartPoint:function(t){var e=t/Math.PI,n=16*Math.pow(Math.sin(e),3)*19.5,o=-20*(13*Math.cos(e)-5*Math.cos(2*e)-2*Math.cos(3*e)-Math.cos(4*e));return new Array(this.offsetX+n,this.offsetY+o)},startHeartAnimation:function(){var t=this,e=10,n=50,o=new Array,r=setInterval((function(){for(var n=t.getHeartPoint(e),i=!0,s=0;s<o.length;s++){var a=o[s],c=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2));if(c<1.3*x.options.bloomRadius.max){i=!1;break}}i&&(o.push(n),t.garden.createRandomBloom(n[0],n[1])),e>=30?(clearInterval(r),t.showTime(),setTimeout((function(){t.showLoveu=!0}),1e3)):e+=.2}),n)},showTime:function(){var t=this,e=this.together.getTime();this.formatedTime=!0,setInterval((function(){var n=(new Date).getTime()-e;t.formatedTime=p(n)}),1e3)}},watch:{start:function(t){t&&this.init()}}},_=M,k=(n("7c63"),Object(l["a"])(_,d,f,!1,null,"b7812bce",null)),C=k.exports,O={name:"App",components:{Garden:C,Bulb:h},data:function(){return{start:!1}},methods:{mainStartAni:function(t){this.start=t}},watch:{start:function(t){console.log(t),t&&(document.body.style.backgroundColor="#ffe")}}},T=O,j=(n("034f"),Object(l["a"])(T,o,r,!1,null,null,null)),S=j.exports,A=n("2b0e");n("a766");new A["a"]({render:function(t){return t(S)}}).$mount("#app")},"7c63":function(t,e,n){"use strict";var o=n("569b"),r=n.n(o);r.a},"85ec":function(t,e,n){},a766:function(t,e,n){},d0bb:function(t,e,n){"use strict";var o=n("157b"),r=n.n(o);r.a}});
//# sourceMappingURL=app.75c27264.js.map